# Документация REST API

## Базовый ендпоинт: `/api/v1`

## Users:
Ресурс для работы с пользователями.

> GET `/api/v1/users/count/`

Получает количество всех пользователей.
Пример ответа: `{"count": 100}`

> GET `/api/v1/users/count-per-day/`

Получает распределения пользователей по дням.
Пример ответа: 
`{
  "count_per_day": {
    "2025-01-19": 1,
    "2025-01-21": 2,
    "2025-01-23": 1,
    "2025-01-29": 2
  }
}`

## Subscribers
Ресурс для работы с с пользователями, которые поделились контактом для получения уведомлений (подписчиками).

> GET `/api/v1/subscribers/ `

Возвращает всех подписчиков.
Пример ответа:
`{
  "contacts": [
    {
      "user_id": 1779915071,
      "phone_number": "79829764729",
      "created_at": "2025-01-21T19:10:02.672573"
    },
  ]
}`

> GET `/api/v1/subscribers/count`

Метод для получения количества всех подписчиков.
Пример ответа: `{"count": 100}`

## Messages
Ресурс для работы с сообщениями, диалогами пользователей.

> GET `/api/v1/messages/count/`

Возврашает количетсво всех сообщений пользователей.
Пример ответа:
`{"count": 100}`

> GET `/api/v1/messages/count-per-day/`

Вщзвращает распределение количества сообщений всех пользователей по дням.
Пример ответа:
`{
  "count_per_day": {
    "2025-01-20": 10,
    "2025-01-21": 21,
    "2025-01-22": 1,
    "2025-01-23": 24,
    "2025-01-26": 9,
    "2025-01-27": 22,
    "2025-02-09": 3
  }
}`

> GET `/api/v1/messages/{user_id}/`

Метод для плучения истории сообщений пользователя.

| Name | Type |
|:--------:|:-------:|
| user_id  | int |

Пример ответа:
`{
  "user_id": 0,
  "messages": [
    {
      "user_id": 0,
      "user_message": "string",
      "bot_message": "string",
      "created_at": "2025-02-09T12:53:25.454Z"
    }
  ]
}`